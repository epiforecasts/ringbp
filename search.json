[{"path":"https://epiforecasts.io/ringbp/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 EpiForecasts Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"set-up-scenario-parameter-space","dir":"Articles","previous_headings":"","what":"Set up scenario parameter space","title":"Scenario parameter sweep","text":"first step construct data.frame (example use data.table) grid parameters, .e. parameter space explore. use expand.grid() create combinations parameters. Parameters grouped put nested data.table make sure coupled combinations parameters mixed. See delay_group example . unnest data.table order sweep across scenarios, data manipulation steps required: Lastly setting parameter grid add column called scenario numbered 1 total number scenarios; add incubation period parameter grid.","code":"# Put parameters that are grouped by disease into this data.table scenarios <- data.table(   expand.grid(    delay_group = list(data.table(      delay = c(\"SARS\", \"Wuhan\"),      onset_to_isolation = c(        \\(n) rweibull(n = n, shape = 1.651524, scale = 4.287786),        \\(n) rweibull(n = n, shape = 2.305172, scale = 9.483875)      )    )),    r0_community = c(1.1, 1.5),    r0_isolated = 0,    disp_community = 0.16,    disp_isolated = 1,    prop_presymptomatic = c(0.01, 0.15),    prop_asymptomatic = c(0, 0.1),    prop_ascertain = seq(0, 1, 0.25),    initial_cases = c(5, 10),    quarantine = FALSE,    cap_max_days = 365,    cap_cases = 5000  ) ) list_cols <- grep(\"_group\", colnames(scenarios), value = TRUE) non_list_cols <- setdiff(colnames(scenarios), list_cols) scenarios <- scenarios[, rbindlist(delay_group), by = c(non_list_cols)] scenarios[, scenario :=  1:.N] incub <- \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) scenarios[, incubation_period := rep(list(incub), .N)]"},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"parameter-sweep-across-scenarios","dir":"Articles","previous_headings":"","what":"Parameter sweep across scenarios","title":"Scenario parameter sweep","text":"run scenario_sim() across parameter set, split scenarios list. makes easy loop resulting list using R functions like lapply(). example run 3 replicates parameter set. simulation model stochastic running multiple replicates , can understand variance within scenarios. scientifically robust analysis, number replicates much higher (e.g. 100-1000). output parameter sweep list data.tables, give idea output looks like show first 3 scenarios (160 total). See ?scenario_sim information contents data.tables.","code":"scenario_sims <- scenarios[, list(data = list(.SD)), by = scenario] n <- 3 res <- lapply(scenario_sims$data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n ) head(res, 3) #> [[1]] #>        sim  week weekly_cases cumulative effective_r0 cases_per_gen #>      <int> <num>        <num>      <num>        <num>        <list> #>   1:     1     0            5          5            0             0 #>   2:     1     1            0          5            0             0 #>   3:     1     2            0          5            0             0 #>   4:     1     3            0          5            0             0 #>   5:     1     4            0          5            0             0 #>  ---                                                                #> 155:     3    48            0          5            0             0 #> 156:     3    49            0          5            0             0 #> 157:     3    50            0          5            0             0 #> 158:     3    51            0          5            0             0 #> 159:     3    52            0          5            0             0 #>  #> [[2]] #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     1.394015 #>   2:     1     1           20         25     1.394015 #>   3:     1     2           45         70     1.394015 #>   4:     1     3          116        186     1.394015 #>   5:     1     4          188        374     1.394015 #>  ---                                                  #> 155:     3    48            0          7     0.200000 #> 156:     3    49            0          7     0.200000 #> 157:     3    50            0          7     0.200000 #> 158:     3    51            0          7     0.200000 #> 159:     3    52            0          7     0.200000 #>                    cases_per_gen #>                           <list> #>   1:  11, 41, 70, 99,145,185,... #>   2:  11, 41, 70, 99,145,185,... #>   3:  11, 41, 70, 99,145,185,... #>   4:  11, 41, 70, 99,145,185,... #>   5:  11, 41, 70, 99,145,185,... #>  ---                             #> 155:                         2,0 #> 156:                         2,0 #> 157:                         2,0 #> 158:                         2,0 #> 159:                         2,0 #>  #> [[3]] #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0           13         13     1.409416 #>   2:     1     1           27         40     1.409416 #>   3:     1     2           75        115     1.409416 #>   4:     1     3          128        243     1.409416 #>   5:     1     4          168        411     1.409416 #>  ---                                                  #> 155:     3    48            0          7     0.200000 #> 156:     3    49            0          7     0.200000 #> 157:     3    50            0          7     0.200000 #> 158:     3    51            0          7     0.200000 #> 159:     3    52            0          7     0.200000 #>                    cases_per_gen #>                           <list> #>   1:  13, 21, 26, 72,127,125,... #>   2:  13, 21, 26, 72,127,125,... #>   3:  13, 21, 26, 72,127,125,... #>   4:  13, 21, 26, 72,127,125,... #>   5:  13, 21, 26, 72,127,125,... #>  ---                             #> 155:                         2,0 #> 156:                         2,0 #> 157:                         2,0 #> 158:                         2,0 #> 159:                         2,0"},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"storing-simulations-with-scenarios","dir":"Articles","previous_headings":"","what":"Storing simulations with scenarios","title":"Scenario parameter sweep","text":"previous example constructed parameter grid ran parameter sweep storing simulated outbreaks separate object. can useful keep simulated output together parameter grid able check parameters correspond simulated outbreak. example run scenario parameter sweep (3 replicates), store simulated outbreak data.tables object list scenarios. append simulation results scenario_sims data.table assign sims column.","code":"scenario_sims[, sims := lapply(data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n )] scenario_sims #>      scenario               data                sims #>         <int>             <list>              <list> #>   1:        1 <data.table[1x14]> <data.table[159x6]> #>   2:        2 <data.table[1x14]> <data.table[159x6]> #>   3:        3 <data.table[1x14]> <data.table[159x6]> #>   4:        4 <data.table[1x14]> <data.table[159x6]> #>   5:        5 <data.table[1x14]> <data.table[159x6]> #>  ---                                                 #> 156:      156 <data.table[1x14]> <data.table[159x6]> #> 157:      157 <data.table[1x14]> <data.table[159x6]> #> 158:      158 <data.table[1x14]> <data.table[159x6]> #> 159:      159 <data.table[1x14]> <data.table[159x6]> #> 160:      160 <data.table[1x14]> <data.table[159x6]> head(scenario_sims$data, 3) #> [[1]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.1           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000   SARS      <function[1]>     <function[1]> #>  #> [[2]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.1           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000  Wuhan      <function[1]>     <function[1]> #>  #> [[3]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.5           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000   SARS      <function[1]>     <function[1]> head(scenario_sims$sims, 3) #> [[1]] #>        sim  week weekly_cases cumulative effective_r0 cases_per_gen #>      <int> <num>        <num>      <num>        <num>        <list> #>   1:     1     0            5          5          0.2           2,0 #>   2:     1     1            2          7          0.2           2,0 #>   3:     1     2            0          7          0.2           2,0 #>   4:     1     3            0          7          0.2           2,0 #>   5:     1     4            0          7          0.2           2,0 #>  ---                                                                #> 155:     3    48            0          8          0.3           3,0 #> 156:     3    49            0          8          0.3           3,0 #> 157:     3    50            0          8          0.3           3,0 #> 158:     3    51            0          8          0.3           3,0 #> 159:     3    52            0          8          0.3           3,0 #>  #> [[2]] #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     0.100000 #>   2:     1     1            1          6     0.100000 #>   3:     1     2            0          6     0.100000 #>   4:     1     3            0          6     0.100000 #>   5:     1     4            0          6     0.100000 #>  ---                                                  #> 155:     3    48            0        914     1.082393 #> 156:     3    49            0        914     1.082393 #> 157:     3    50            0        914     1.082393 #> 158:     3    51            0        914     1.082393 #> 159:     3    52            0        914     1.082393 #>                    cases_per_gen #>                           <list> #>   1:                         1,0 #>   2:                         1,0 #>   3:                         1,0 #>   4:                         1,0 #>   5:                         1,0 #>  ---                             #> 155:  19, 45, 61, 72,103,121,... #> 156:  19, 45, 61, 72,103,121,... #> 157:  19, 45, 61, 72,103,121,... #> 158:  19, 45, 61, 72,103,121,... #> 159:  19, 45, 61, 72,103,121,... #>  #> [[3]] #>        sim  week weekly_cases cumulative effective_r0         cases_per_gen #>      <int> <num>        <num>      <num>        <num>                <list> #>   1:     1     0            5          5     0.000000                     0 #>   2:     1     1            0          5     0.000000                     0 #>   3:     1     2            0          5     0.000000                     0 #>   4:     1     3            0          5     0.000000                     0 #>   5:     1     4            0          5     0.000000                     0 #>  ---                                                                        #> 155:     3    48            0       5939     1.482541 16,17,11,10,26,80,... #> 156:     3    49            0       5939     1.482541 16,17,11,10,26,80,... #> 157:     3    50            0       5939     1.482541 16,17,11,10,26,80,... #> 158:     3    51            0       5939     1.482541 16,17,11,10,26,80,... #> 159:     3    52            0       5939     1.482541 16,17,11,10,26,80,..."},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"running-scenarios-in-parallel","dir":"Articles","previous_headings":"","what":"Running scenarios in parallel","title":"Scenario parameter sweep","text":"Finally, demonstrate example can easily run parallel using {future} framework. load {future} {future.apply} R packages . can replace lapply() future.apply::future_lapply() function choose run analysis parallel. See ?future::plan details. show run analysis 2 separate R sessions running background. Now re-run parameter sweep parallelisation. Note, set future.seed = TRUE ensure parallel-safe random numbers produced.","code":"library(future) library(future.apply) future::plan(\"multisession\", workers = 2) scenario_sims[, sims := future_lapply(data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n,   future.seed = TRUE )] scenario_sims"},{"path":"https://epiforecasts.io/ringbp/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joel Hellewell. Author, maintainer. Sam Abbott. Author. Amy Gimma. Author. Tim Lucas. Author. Sebastian Funk. Author. Adam Kucharski. Author. Hugo Gruson. Contributor. Carl . B. Pearson. Contributor, reviewer. Joshua W. Lambert. Author.","code":""},{"path":"https://epiforecasts.io/ringbp/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hellewell J, Abbott S, Gimma , Lucas T, Funk S, Kucharski , Lambert J (2025). ringbp: Simulate evaluate contact tracing scenarios. R package version 0.1.2.9999, https://epiforecasts.io/ringbp.","code":"@Manual{,   title = {ringbp: Simulate and evaluate contact tracing scenarios},   author = {Joel Hellewell and Sam Abbott and Amy Gimma and Tim Lucas and Sebastian Funk and Adam Kucharski and Joshua W. Lambert},   year = {2025},   note = {R package version 0.1.2.9999},   url = {https://epiforecasts.io/ringbp}, }"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"ringbp-simulate-infectious-disease-transmission-with-contact-tracing","dir":"","previous_headings":"","what":"Simulate and evaluate contact tracing scenarios","title":"Simulate and evaluate contact tracing scenarios","text":"ringbp R package provides methods simulate infectious disease transmission presence contact tracing. initially developed support paper written early 2020 assess feasibility controlling COVID-19; see companion analysis code paper details. ringbp R package provides methods simulate infectious disease transmission presence contact tracing. initially developed support paper written early 2020 assess feasibility controlling COVID-19. details methods implemented , see associated paper.","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulate and evaluate contact tracing scenarios","text":"current development version ringbp can installed GitHub using pak package.","code":"if(!require(\"pak\")) install.packages(\"pak\") pak::pak(\"epiforecasts/ringbp\")"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Simulate and evaluate contact tracing scenarios","text":"main functionality package scenario_sim() function. example running 10 simulations given scenario:","code":"library(\"ringbp\") library(\"ggplot2\")  res <- scenario_sim(   n = 10, ## 10 simulations   initial_cases = 1, ## one initial case in each of the simulations    offspring = offspring_opts(     ## non-isolated individuals have R0 of 2.5 and a dispersion parameter     community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),      ## isolated individuals have R0 of 0.5 and a dispersion  parameter     isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1)     ## by default asymptomatic individuals are assumed to have the same R0      ## and dispersion as non-isolated individuals   ),    delays = delay_opts(     incubation_period = \\(x) stats::rweibull(n = x, shape = 2.322737, scale = 6.492272),      onset_to_isolation = \\(x) stats::rweibull(n = x, shape = 1.651524, scale = 4.287786)   ),   event_probs = event_prob_opts(     ## 10% asymptomatic infections     asymptomatic = 0.1,      ## 50% probability of onward infection time being before symptom onset     presymptomatic_transmission = 0.5,     ## 20% probability of ascertainment by contact tracing     symptomatic_ascertained = 0.2   ),   ## whether quarantine is in effect   interventions = intervention_opts(quarantine = FALSE),   sim = sim_opts(     ## don't simulate beyond 350 days     cap_max_days = 350,      ## don't simulate beyond 4500 infections     cap_cases = 4500   ) )"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"plot-of-weekly-cases","dir":"","previous_headings":"Quick start","what":"Plot of weekly cases","title":"Simulate and evaluate contact tracing scenarios","text":"","code":"ggplot(   data = res, aes(x = week, y = cumulative, col = as.factor(sim)) ) +   geom_line(show.legend = FALSE, alpha = 0.3) +   scale_y_continuous(name = \"Cumulative number of cases\") +   theme_bw()"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"estimate-extinction-probability","dir":"","previous_headings":"Quick start","what":"Estimate extinction probability","title":"Simulate and evaluate contact tracing scenarios","text":"","code":"extinct_prob(res, cap_cases = 4500) #> [1] 0.8"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"Simulate and evaluate contact tracing scenarios","text":"contributions project gratefully acknowledged using allcontributors package following -contributors specification. Contributions kind welcome!","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"code","dir":"","previous_headings":"Contributors","what":"Code","title":"Simulate and evaluate contact tracing scenarios","text":"seabbs, sbfnk, jhellewell14, timcdlucas, amygimma, joshwlambert, Bisaloo, actions-user","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"issue-authors","dir":"","previous_headings":"Contributors","what":"Issue Authors","title":"Simulate and evaluate contact tracing scenarios","text":"pearsonca, sophiemeakin","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"issue-contributors","dir":"","previous_headings":"Contributors","what":"Issue Contributors","title":"Simulate and evaluate contact tracing scenarios","text":"thimotei, adamkucharski, dcadam, jamesmbaazam","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"Check distribution function returns valid output correct number arguments","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"","code":"check_dist_func(func, dist_name, n_req_args = 1, func_eval_min = 0)"},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"func function. dist_name character string: name distribution function passed (e.g. \"incubation_period\") n_req_args single numeric: number required arguments func_eval_min single numeric: lower bound valid numeric output func argument (.e. minimum acceptable value function's codomain). default 0 func must return non-negative values.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"TRUE checks pass error thrown distribution function invalid.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of delay distributions to run the ringbp model — delay_opts","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"Create list delay distributions run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"","code":"delay_opts(incubation_period, onset_to_isolation, latent_period = 0)"},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"incubation_period function: random number generating function samples incubation period distribution, function accepts single integer argument specifying number times sample incubation period (.e. length function output). onset_to_isolation function: random number generating function accepts single integer argument specifying length function output. latent_period non-negative numeric scalar: minimum time individual exposed becoming infectious. population-wide parameter, variability individuals. sets minimum generation time model. Default 0 (.e. individual becomes immediately infectious infected). latent_period positive generation times sampled conditional gt >= latent_period (.e. left-truncated latent_period). may reduce realised proportion presymptomatic transmission, depending incubation_period distribution presymptomatic_transmission (event_prob_opts()).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"list class <ringbp_delay_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"","code":"delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) #> $incubation_period #> function (n)  #> rweibull(n = n, shape = 2.32, scale = 6.49) #> <environment: 0x5590777ac498> #>  #> $onset_to_isolation #> function (n)  #> rweibull(n = n, shape = 1.65, scale = 4.28) #> <environment: 0x5590777ac498> #>  #> $latent_period #> [1] 0 #>  #> attr(,\"class\") #> [1] \"ringbp_delay_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of event probabilities to run the ringbp model — event_prob_opts","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"Create list event probabilities run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"","code":"event_prob_opts(   asymptomatic,   presymptomatic_transmission,   symptomatic_ascertained )"},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"asymptomatic numeric scalar probability (0 1 inclusive): proportion cases completely asymptomatic (subclinical) presymptomatic_transmission numeric scalar probability (0 1 inclusive): proportion transmission occurs symptom onset. symptomatic_ascertained numeric scalar probability (0 1 inclusive): proportion infectious contacts ascertained contact tracing","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"list class <ringbp_event_prob_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"","code":"event_prob_opts(   asymptomatic = 0.1,   presymptomatic_transmission = 0.5,   symptomatic_ascertained = 0.2 ) #> $asymptomatic #> [1] 0.1 #>  #> $presymptomatic_transmission #> [1] 0.5 #>  #> $alpha #> [1] 1.968077e-08 #>  #> $symptomatic_ascertained #> [1] 0.2 #>  #> attr(,\"class\") #> [1] \"ringbp_event_prob_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":null,"dir":"Reference","previous_headings":"","what":"Outbreak extinction functions — extinction","title":"Outbreak extinction functions — extinction","text":"extinct_prob(): Calculate proportion runs controlled outbreak detect_extinct(): Calculate whether outbreaks went extinct ","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Outbreak extinction functions — extinction","text":"","code":"extinct_prob(scenario, extinction_week = NULL)  detect_extinct(scenario, extinction_week = NULL)"},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Outbreak extinction functions — extinction","text":"scenario data.table: weekly cases output scenario_sim() extinction_week default NULL also accepts positive integer scalar integer vector test outbreak gone extinct (.e. new cases) week (zero indexed): default (NULL) extinction status stored output scenario_sim() supplied scenario argument. extinction_week specified specified NULL pre-computed extinction status outbreak simulation used. defined infectious cases opportunity transmit new cases generated. single integer test extinction occurred week. example, extinction_week = 5 tests whether outbreak extinct week 5 (inclusive) end outbreak. integer vector length two can supplied provide lower upper bounds (inclusive) week range test whether extinction occurred window. example extinction_week = c(5, 10) test whether outbreak went extinct week 5 new cases weeks 5 10 (inclusive). integer vector length n can supplied provide weeks test whether extinction occurred window. example extinction_week = 12:16 test new infections 12 16 weeks initial cases (inclusive). integer sequences likely contiguous function allow non-contiguous integer sequences. extinction occurs extinction_week window outbreak extinction considered extinct, however, extinction occurs within extinction_week window considered extinct. Therefore, using single integer extinction_week thinking \"outbreak gone extinct week X\".","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Outbreak extinction functions — extinction","text":"extinct_prob(): single numeric probability extinction detect_extinct(): data.table, two columns sim extinct, binary classification whether outbreak went extinct simulation replicate. 1 outbreak went extinct, 0 .","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Outbreak extinction functions — extinction","text":"data passed scenario produced scenario_sim(). produced outbreak_model() requires sim column, appended scenario_sim(). Warning: output scenario_sim() contains cap_cases attribute used extinct_prob() detect_extinct(), therefore modify output scenario_sim() passing extinct_prob() careful drop attribute (e.g. subsetting data.table).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinction.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Outbreak extinction functions — extinction","text":"","code":"res <- scenario_sim(   n = 10,   initial_cases = 1,   offspring = offspring_opts(     community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),     isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1)   ),   delays = delay_opts(     incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),     onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28)   ),   event_probs = event_prob_opts(     asymptomatic = 0,     presymptomatic_transmission = 0.5,     symptomatic_ascertained = 0.2   ),   interventions = intervention_opts(quarantine = FALSE),   sim = sim_opts(cap_max_days = 350, cap_cases = 4500) )  # calculate probability of extinction extinct_prob(res) #> Calculating extinction using the extinction status from the simulation. #> [1] 0.9  # determine if each outbreak simulation replicate has gone extinct detect_extinct(res) #> Calculating extinction using the extinction status from the simulation. #>       sim extinct #>     <int>   <int> #>  1:     1       1 #>  2:     2       1 #>  3:     3       1 #>  4:     4       1 #>  5:     5       0 #>  6:     6       1 #>  7:     7       1 #>  8:     8       1 #>  9:     9       1 #> 10:    10       1  # calculate extinction in the last 2 weeks of the simulated outbreak # (i.e. the penultimate and last week of the outbreak) extinct_prob(res, extinction_week = max(res$week) - 1) #> Calculating extinction as no new cases within weeks: 49 to 50 (inclusive). #> [1] 0.9  # calculate extinction as no new cases between weeks 12 and 16 of the outbreak extinct_prob(res, extinction_week = 12:16) #> Calculating extinction as no new cases within weeks: 12 to 16 (inclusive). #> [1] 0.9"},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert symptom onset times to generation times — incubation_to_generation_time","title":"Convert symptom onset times to generation times — incubation_to_generation_time","text":"Samples generation times skew-normal distribution based relative symptom onset times (symptom_onset_time - exposure_time), ensuring generation times least latent_period. location parameter skew-normal distribution set relative symptom onset times.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert symptom onset times to generation times — incubation_to_generation_time","text":"","code":"incubation_to_generation_time(   symptom_onset_time,   exposure_time = rep(0, length(symptom_onset_time)),   alpha,   latent_period = 0 )"},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert symptom onset times to generation times — incubation_to_generation_time","text":"symptom_onset_time positive numeric vector: symptom onset time(s) infector(s) case data. symptom onset times generated sampling incubation period. exposure_time non-negative numeric vector: time exposure infector(s) case data. Used convert symptom onset absolute time relative time infectee. Default exposure times 0. alpha numeric scalar: skew parameter skew-normal distribution. Used model relationship incubation period generation time. latent_period non-negative numeric scalar: minimum time individual exposed becoming infectious. population-wide parameter, variability individuals. sets minimum generation time model. Default 0 (.e. individual becomes immediately infectious infected). latent_period positive generation times sampled conditional gt >= latent_period (.e. left-truncated latent_period). may reduce realised proportion presymptomatic transmission, depending incubation_period distribution presymptomatic_transmission (event_prob_opts()).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert symptom onset times to generation times — incubation_to_generation_time","text":"numeric vector generation times equal length vector input symptom_onset_time: -th element vector contains sample generation time distribution individual incubation period given -th element symptom_onset_time vector. lower bound output generation time vector set latent_period, prevent transmission becoming infectious.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert symptom onset times to generation times — incubation_to_generation_time","text":"","code":"incubation_to_generation_time(   symptom_onset_time = c(1, 2, 3, 4, 1),   alpha = 2 ) #> [1] 2.983469 3.468961 7.128667 7.397442 2.094544"},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of intervention settings to run the ringbp model — intervention_opts","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"Create list intervention settings run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"","code":"intervention_opts(quarantine = FALSE)"},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"quarantine logical scalar: whether quarantine effect, TRUE traced contacts isolated symptom onset; defaults FALSE","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"list class <ringbp_intervention_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"","code":"intervention_opts(quarantine = FALSE) #> $quarantine #> [1] FALSE #>  #> attr(,\"class\") #> [1] \"ringbp_intervention_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of offspring distributions to run the ringbp model — offspring_opts","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"Create list offspring distributions run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"","code":"offspring_opts(community, isolated, asymptomatic = community)"},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"community function: random number generating function samples community (non-isolated) offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output) isolated function: random number generating function samples isolated cases offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output) asymptomatic function: random number generating function samples sub-clinical non-isolated cases offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output). specified community offspring distribution left unspecified","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"list class <ringbp_offspring_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"asymptomatic provided specified community meaning transmission subclinical cases equal clinical cases unless specified otherwise.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"","code":"# Negative binomial offspring distributions with: # Community R0 of 2.5 and dispersion of 0.16 # Isolated R0 of 0.5 and dispersion of 1 # Asymptomatic R0 of 2.5 and dispersion of 0.16 offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) #> $community #> function (n)  #> rnbinom(n = n, mu = 2.5, size = 0.16) #> <environment: 0x55907f5fb7b0> #>  #> $isolated #> function (n)  #> rnbinom(n = n, mu = 0.5, size = 1) #> <environment: 0x55907f5fb7b0> #>  #> $asymptomatic #> function (n)  #> rnbinom(n = n, mu = 2.5, size = 0.16) #> <environment: 0x55907f5fb7b0> #>  #> attr(,\"class\") #> [1] \"ringbp_offspring_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_continue.html","id":null,"dir":"Reference","previous_headings":"","what":"Control whether outbreak simulation continues stepping — outbreak_continue","title":"Control whether outbreak simulation continues stepping — outbreak_continue","text":"Used loop determine whether outbreak_model() continues call outbreak_step(), end simulation.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_continue.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Control whether outbreak simulation continues stepping — outbreak_continue","text":"","code":"outbreak_continue(case_data, sim)"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_continue.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Control whether outbreak simulation continues stepping — outbreak_continue","text":"case_data data.table: cases outbreak far; initially generated outbreak_setup() sim list class <ringbp_sim_opts>: simulation control options ringbp model, returned sim_opts()","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_continue.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Control whether outbreak simulation continues stepping — outbreak_continue","text":"logical scalar: whether outbreak still active continue (TRUE) outbreak extinct reached stopping criterion (FALSE).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a single instance of the branching process model — outbreak_model","title":"Run a single instance of the branching process model — outbreak_model","text":"Run single instance branching process model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a single instance of the branching process model — outbreak_model","text":"","code":"outbreak_model(   initial_cases,   offspring,   delays,   event_probs,   interventions,   sim )"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a single instance of the branching process model — outbreak_model","text":"initial_cases non-negative integer scalar: number initial starting cases assumed missed. offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine sim list class <ringbp_sim_opts>: simulation control options ringbp model, returned sim_opts()","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a single instance of the branching process model — outbreak_model","text":"data.table cases week, cumulative cases, effective reproduction number outbreak. data.table columns : $week: numeric $weekly_cases: numeric $cumulative: numeric $effective_r0: numeric $cases_per_gen: list","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a single instance of the branching process model — outbreak_model","text":"","code":"set.seed(1) offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.5,   symptomatic_ascertained = 0.2 ) interventions <- intervention_opts(quarantine = FALSE) out <- outbreak_model(   initial_cases = 1,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions,   sim = sim_opts() ) out #>      week weekly_cases cumulative effective_r0 cases_per_gen #>     <num>        <num>      <num>        <num>        <list> #>  1:     0            1          1            0             0 #>  2:     1            0          1            0             0 #>  3:     2            0          1            0             0 #>  4:     3            0          1            0             0 #>  5:     4            0          1            0             0 #>  6:     5            0          1            0             0 #>  7:     6            0          1            0             0 #>  8:     7            0          1            0             0 #>  9:     8            0          1            0             0 #> 10:     9            0          1            0             0 #> 11:    10            0          1            0             0 #> 12:    11            0          1            0             0 #> 13:    12            0          1            0             0 #> 14:    13            0          1            0             0 #> 15:    14            0          1            0             0 #> 16:    15            0          1            0             0 #> 17:    16            0          1            0             0 #> 18:    17            0          1            0             0 #> 19:    18            0          1            0             0 #> 20:    19            0          1            0             0 #> 21:    20            0          1            0             0 #> 22:    21            0          1            0             0 #> 23:    22            0          1            0             0 #> 24:    23            0          1            0             0 #> 25:    24            0          1            0             0 #> 26:    25            0          1            0             0 #> 27:    26            0          1            0             0 #> 28:    27            0          1            0             0 #> 29:    28            0          1            0             0 #> 30:    29            0          1            0             0 #> 31:    30            0          1            0             0 #> 32:    31            0          1            0             0 #> 33:    32            0          1            0             0 #> 34:    33            0          1            0             0 #> 35:    34            0          1            0             0 #> 36:    35            0          1            0             0 #> 37:    36            0          1            0             0 #> 38:    37            0          1            0             0 #> 39:    38            0          1            0             0 #> 40:    39            0          1            0             0 #> 41:    40            0          1            0             0 #> 42:    41            0          1            0             0 #> 43:    42            0          1            0             0 #> 44:    43            0          1            0             0 #> 45:    44            0          1            0             0 #> 46:    45            0          1            0             0 #> 47:    46            0          1            0             0 #> 48:    47            0          1            0             0 #> 49:    48            0          1            0             0 #> 50:    49            0          1            0             0 #> 51:    50            0          1            0             0 #>      week weekly_cases cumulative effective_r0 cases_per_gen"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up initial cases for branching process — outbreak_setup","title":"Set up initial cases for branching process — outbreak_setup","text":"Set initial cases branching process","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up initial cases for branching process — outbreak_setup","text":"","code":"outbreak_setup(initial_cases, delays, event_probs)"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up initial cases for branching process — outbreak_setup","text":"initial_cases non-negative integer scalar: number initial starting cases assumed missed. delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up initial cases for branching process — outbreak_setup","text":"data.table cases outbreak far. data.table columns : $exposure: numeric $asymptomatic: logical $caseid: integer $infector: numeric $missed: logical $onset: numeric $new_cases: integer $isolated_time: numeric $sampled: logical","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up initial cases for branching process — outbreak_setup","text":"","code":"delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.15,   symptomatic_ascertained = 0 )  # generate initial cases case_data <- outbreak_setup(   initial_cases = 5,   delays = delays,   event_probs = event_probs ) case_data #> Index: <asymptomatic> #>    exposure asymptomatic caseid infector missed    onset new_cases #>       <num>       <lgcl>  <int>    <num> <lgcl>    <num>     <int> #> 1:        0        FALSE      1        0   TRUE 5.494867        NA #> 2:        0        FALSE      2        0   TRUE 4.273768        NA #> 3:        0        FALSE      3        0   TRUE 9.144926        NA #> 4:        0        FALSE      4        0   TRUE 4.549269        NA #> 5:        0        FALSE      5        0   TRUE 5.327302        NA #>    isolated_time sampled #>            <num>  <lgcl> #> 1:     13.630713   FALSE #> 2:     12.000550   FALSE #> 3:      9.839796   FALSE #> 4:      7.850404   FALSE #> 5:      7.479154   FALSE"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":null,"dir":"Reference","previous_headings":"","what":"Move forward one generation in the branching process — outbreak_step","title":"Move forward one generation in the branching process — outbreak_step","text":"Move forward one generation branching process","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Move forward one generation in the branching process — outbreak_step","text":"","code":"outbreak_step(case_data, offspring, delays, event_probs, interventions)"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Move forward one generation in the branching process — outbreak_step","text":"case_data data.table: cases outbreak far; initially generated outbreak_setup() offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Move forward one generation in the branching process — outbreak_step","text":"list three elements: $cases: data.table case data $effective_r0: numeric effective reproduction number $cases_in_gen: numeric number new cases generation","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Move forward one generation in the branching process — outbreak_step","text":"","code":"offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 1.25, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.15,   symptomatic_ascertained = 0 ) interventions <- intervention_opts(quarantine = FALSE)  # generate initial cases case_data <- outbreak_setup(   initial_cases = 5,   delays = delays,   event_probs = event_probs ) case_data #> Index: <asymptomatic> #>    exposure asymptomatic caseid infector missed     onset new_cases #>       <num>       <lgcl>  <int>    <num> <lgcl>     <num>     <int> #> 1:        0        FALSE      1        0   TRUE  9.068614        NA #> 2:        0        FALSE      2        0   TRUE  7.134836        NA #> 3:        0        FALSE      3        0   TRUE  7.409368        NA #> 4:        0        FALSE      4        0   TRUE  3.831935        NA #> 5:        0        FALSE      5        0   TRUE 12.451065        NA #>    isolated_time sampled #>            <num>  <lgcl> #> 1:     17.360308   FALSE #> 2:     10.430046   FALSE #> 3:      9.035117   FALSE #> 4:     15.099694   FALSE #> 5:     16.355962   FALSE # generate next generation of cases out <- outbreak_step(   case_data = case_data,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions ) case_data <- out[[1]] case_data #>      exposure asymptomatic caseid infector missed     onset new_cases #>         <num>       <lgcl>  <int>    <num> <lgcl>     <num>     <int> #>  1:  0.000000        FALSE      1        0   TRUE  9.068614         6 #>  2:  0.000000        FALSE      2        0   TRUE  7.134836         0 #>  3:  0.000000        FALSE      3        0   TRUE  7.409368         0 #>  4:  0.000000        FALSE      4        0   TRUE  3.831935         0 #>  5:  0.000000        FALSE      5        0   TRUE 12.451065        14 #>  6: 10.684477        FALSE      6        1   TRUE 18.416225        NA #>  7: 11.385832        FALSE      7        1   TRUE 15.003998        NA #>  8: 10.176903        FALSE      8        1   TRUE 15.028419        NA #>  9:  9.312653        FALSE      9        1   TRUE 14.598350        NA #> 10: 10.239543        FALSE     10        1   TRUE 14.286632        NA #> 11:  9.170390        FALSE     11        1   TRUE 18.738731        NA #> 12: 12.990119        FALSE     12        5   TRUE 19.830682        NA #> 13: 14.255198        FALSE     13        5   TRUE 18.637028        NA #> 14: 12.961801        FALSE     14        5   TRUE 17.212470        NA #> 15: 12.874304        FALSE     15        5   TRUE 15.957546        NA #> 16: 13.131607        FALSE     16        5   TRUE 16.887905        NA #> 17: 12.940163        FALSE     17        5   TRUE 20.887224        NA #> 18: 14.945229        FALSE     18        5   TRUE 22.751088        NA #> 19: 16.080431        FALSE     19        5   TRUE 21.357583        NA #> 20: 16.174508        FALSE     20        5   TRUE 20.972771        NA #> 21: 11.815477        FALSE     21        5   TRUE 16.492315        NA #> 22: 13.589812        FALSE     22        5   TRUE 17.914329        NA #> 23: 13.819688        FALSE     23        5   TRUE 23.393422        NA #> 24: 13.327341        FALSE     24        5   TRUE 16.501959        NA #> 25: 13.200103        FALSE     25        5   TRUE 18.777442        NA #>      exposure asymptomatic caseid infector missed     onset new_cases #>     isolated_time sampled #>             <num>  <lgcl> #>  1:     17.360308    TRUE #>  2:     10.430046    TRUE #>  3:      9.035117    TRUE #>  4:     15.099694    TRUE #>  5:     16.355962    TRUE #>  6:     28.608812   FALSE #>  7:     15.177175   FALSE #>  8:     21.919639   FALSE #>  9:     16.201172   FALSE #> 10:     17.935170   FALSE #> 11:     25.011139   FALSE #> 12:     25.008372   FALSE #> 13:     23.594261   FALSE #> 14:     22.801945   FALSE #> 15:     26.596407   FALSE #> 16:     23.809008   FALSE #> 17:     27.978250   FALSE #> 18:     31.509749   FALSE #> 19:     24.464735   FALSE #> 20:     23.710582   FALSE #> 21:     21.213359   FALSE #> 22:     22.097602   FALSE #> 23:     25.188005   FALSE #> 24:     22.806482   FALSE #> 25:     19.811604   FALSE #>     isolated_time sampled"},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"Estimate skew normal alpha parameter proportion presymptomatic transmission","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"","code":"presymptomatic_transmission_to_alpha(presymptomatic_transmission)"},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"presymptomatic_transmission numeric scalar probability (0 1 inclusive): proportion transmission occurs symptom onset.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"numeric scalar: $minimum output optimise() find best alpha parameter get desired proportion presymptomatic transmission.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"Since analytical expression linking two, value alpha corresponds given proportion presymptomatic obtained via numeric optimisation.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/ringbp-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","title":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","text":"package simulate transmission infectious disease associated efforts trace contacts reduce onwards transmission.","code":""},{"path":[]},{"path":"https://epiforecasts.io/ringbp/reference/ringbp-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","text":"Maintainer: Joel Hellewell Joel.Hellewell@lshtm.ac.uk (ORCID) Authors: Sam Abbott contact@samabbott.co.uk (ORCID) Amy Gimma amy.gimma@lshtm.ac.uk Tim Lucas tim.lucas@leicester.ac.uk Sebastian Funk sebastian.funk@lshtm.ac.uk Adam Kucharski adam.kucharski@lshtm.ac.uk Joshua W. Lambert joshua.lambert@lshtm.ac.uk (ORCID) contributors: Hugo Gruson hugo.gruson@data.org (ORCID) [contributor] Carl . B. Pearson carl.ab.pearson@gmail.com (ORCID) [contributor, reviewer]","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sample_offspring.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","title":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","text":"Samples offspring distributions (see offspring_opts()) adds next generation transmission events reference case_data. generation times infector-infectee pair also sampled returned function.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sample_offspring.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","text":"","code":"sample_offspring(case_data, offspring, alpha, latent_period)"},{"path":"https://epiforecasts.io/ringbp/reference/sample_offspring.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","text":"case_data data.table: cases outbreak far; initially generated outbreak_setup() offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic alpha numeric scalar: skew parameter skew-normal distribution. Used model relationship incubation period generation time. latent_period non-negative numeric scalar: minimum time individual exposed becoming infectious. population-wide parameter, variability individuals. sets minimum generation time model. Default 0 (.e. individual becomes immediately infectious infected). latent_period positive generation times sampled conditional gt >= latent_period (.e. left-truncated latent_period). may reduce realised proportion presymptomatic transmission, depending incubation_period distribution presymptomatic_transmission (event_prob_opts()).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sample_offspring.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","text":"numeric vector generation times new cases exposure/infection times. Note case_data supplied function modified references, see data.table::set() information.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sample_offspring.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sample the offspring distributions for cases that can be in either the community, isolated or asymptomatic states and transition between states — sample_offspring","text":"offspring distribution case community simply sampled community offspring distribution might become isolated infecting cases. account cases transition states (now community -> isolated) draw offspring distributions, assign new cases generation time, discard ones generation time <= isolation time (isolated offspring distribution) generation time > isolation time (community offspring distribution), respectively.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a specified number of simulations with identical parameters — scenario_sim","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"Run specified number simulations identical parameters","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"","code":"scenario_sim(   n,   initial_cases,   offspring,   delays,   event_probs,   interventions,   sim )"},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"n positive integer scalar: number simulations run initial_cases non-negative integer scalar: number initial starting cases assumed missed. offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine sim list class <ringbp_sim_opts>: simulation control options ringbp model, returned sim_opts()","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"data.table object returning results multiple simulations using set parameters. table columns week: week simulation. weekly_cases: number new cases week. cumulative: cumulative cases. effective_r0: effective reproduction rate whole simulation cases_per_gen: list column cases per generation. repeated row. sim: Index column simulation.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"","code":"offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 2.5, scale = 5) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.3,   symptomatic_ascertained = 0 ) interventions <- intervention_opts(quarantine = TRUE) sim <- sim_opts(   cap_max_days = 365,   cap_cases = 2000 ) res <- scenario_sim(   n = 5,   initial_cases = 5,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions,   sim = sim ) res #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     2.967094 #>   2:     1     1           17         22     2.967094 #>   3:     1     2           96        118     2.967094 #>   4:     1     3          329        447     2.967094 #>   5:     1     4          641       1088     2.967094 #>  ---                                                  #> 261:     5    48            0       2689     3.119669 #> 262:     5    49            0       2689     3.119669 #> 263:     5    50            0       2689     3.119669 #> 264:     5    51            0       2689     3.119669 #> 265:     5    52            0       2689     3.119669 #>                      cases_per_gen #>                             <list> #>   1:   12,  16, 106, 316, 739,1570 #>   2:   12,  16, 106, 316, 739,1570 #>   3:   12,  16, 106, 316, 739,1570 #>   4:   12,  16, 106, 316, 739,1570 #>   5:   12,  16, 106, 316, 739,1570 #>  ---                               #> 261:   43,  64, 162, 377, 698,1340 #> 262:   43,  64, 162, 377, 698,1340 #> 263:   43,  64, 162, 377, 698,1340 #> 264:   43,  64, 162, 377, 698,1340 #> 265:   43,  64, 162, 377, 698,1340"},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of simulation control options for the ringbp model — sim_opts","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"Create list simulation control options ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"","code":"sim_opts(cap_max_days = 350, cap_cases = 5000)"},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"cap_max_days positive integer scalar: stop simulation many days reached. cap_cases positive integer scalar: number cumulative cases branching process (simulation) terminated","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"list class <ringbp_sim_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"","code":"# default simulation control options sim_opts() #> $cap_max_days #> [1] 350 #>  #> $cap_cases #> [1] 5000 #>  #> attr(,\"class\") #> [1] \"ringbp_sim_opts\"  # specifying custom simulation control options sim_opts(   cap_max_days = 140,   cap_cases = 1000 ) #> $cap_max_days #> [1] 140 #>  #> $cap_cases #> [1] 1000 #>  #> attr(,\"class\") #> [1] \"ringbp_sim_opts\""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-0129999","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.2.9999","title":"ringbp 0.1.2.9999","text":"package test suite improved, adding several new unit tests, increasing test coverage 100%. {testthat} edition incremented use 3rd edition. Snapshot (regression) tests added outbreak_setup() scenario_sim(). Addresses #100 @joshwlambert #160 reviewed @pearsonca. lower bound generation time returned incubation_to_generation_time() now greater equal latent period (default 0) instead 1. latent_period argument added delay_opts(). incubation_to_generation_time() gains two new arguments: exposure_time latent_period prevent bug infectee’s exposure precedes infector’s exposure time. latent_period > 0, generation times left‑truncated latent_period; can reduce realised presymptomatic transmission proportion, warning issued realised value reported simulation. Addresses #124 @joshwlambert #142 reviewed @sbfnk @pearsonca. outbreak simulation functions (scenario_sim(), outbreak_model(), outbreak_setup() outbreak_step()) refactored provide modular functional interface. New delay_opts(), event_prob_opts(), intervention_opts(), offspring_opts(), sim_opts() helper functions added. check_dist_func() added check_outbreak_input() removed. parameter_sweep() function removed converted vignette ({purrr} removed package dependency). prop_presymptomatic_to_alpha() renamed presymptomatic_transmission_to_alpha(). Addresses #65, #91 @joshwlambert #127 reviewed @pearsonca @sbfnk. inf_fn() function renamed incubation_to_generation_time() k function argument (scenario_sim(), outbreak_model(), outbreak_step()) renamed prop_presymptomatic (scenario_sim() outbreak_model()) alpha (outbreak_step()). internal prop_presymptomatic_to_alpha() function added conversion prop_presymptomatic alpha. Addresses #119, #120 @joshwlambert #123 reviewed @pearsonca @sbfnk. Added input checking, including new check_outbreak_input() function, removed unused argument defaults, consistently ordered arguments functions, moved function argument documentation functions use argument. Addresses #89, #91, #93, #116 @joshwlambert #117 reviewed @pearsonca @sbfnk. Function argument variable names consistently named styled (snake case). Arguments abbreviated (e.g. iso) now use full word, arguments aliases (e.g. prop_ascertain control_effectiveness) now use single name. @joshwlambert #112 reviewed @pearsonca @sbfnk. Fixed bug implementation quarantine, isolation happen later onset + delay, earlier isolation time infector. @sbfnk #107 reviewed @pearsonca @joshwlambert. Changed internal sampling vector draws several locations; cases, optimization, others bug fix correcting use single draw many. Also incorporates vectorization changes improve performance. bug fix, users expect results change. Addresses issues #90, #92, #94, #98 @pearsonca (now added contributor) review @sbfnk @joshwlambert. minimum R version required {ringbp} package now >= 4.4.0. due dependency {Matrix}. GitHub actions workflow R CMD check added check package valid minimum required R version. Addressed #85 @joshwlambert review @sbfnk. Parameterisation delay distributions accepted model generalised scenario_sim() outbreak_model(). delay_shape delay_scale arguments replaced onset_to_isolation argument, incubation_period argument added. Addresses issues #59 #63 #84 @joshwlambert review @sbfnk @pearsonca. Function examples added updated, \\dontrun{} removed. Addresses issue #27 #83 @joshwlambert review @pearsonca. Use {roxyglobals} manage global variables. Addresses issue #66 #81 @joshwlambert review @sbfnk. Remove silent printing returned data.tables outbreak_model() scenario_sim() adding [] return(). Addresses issue #64 #80 @joshwlambert review @sbfnk. Function documentation updated, including function arguments, function outputs, inheriting arguments across functions fixing --date references. Addressed issue #58 #67 #78 @joshwlambert review @sbfnk @pearsonca issue #79 #82 @joshwlambert review @sbfnk.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-012","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.2","title":"ringbp 0.1.2","text":"Improved package infrastructure remove number dependencies, removing deprecated function calls reducing clutter repo. #70, #71, #72 #73 @sbfnk.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-011","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.1","title":"ringbp 0.1.1","text":"Added unit tests. @timcdlucas #43 reviewed @sbfnk. Added testing checking infrastructure using github actions.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-010","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.0","title":"ringbp 0.1.0","text":"Initial release alongside paper Feasibility controlling 2019-nCoV outbreaks isolation cases contacts.","code":""}]

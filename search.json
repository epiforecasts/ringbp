[{"path":"https://epiforecasts.io/ringbp/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 EpiForecasts Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"set-up-scenario-parameter-space","dir":"Articles","previous_headings":"","what":"Set up scenario parameter space","title":"Scenario parameter sweep","text":"first step construct data.frame (example use data.table) grid parameters, .e. parameter space explore. use expand.grid() create combinations parameters. Parameters grouped put nested data.table make sure coupled combinations parameters mixed. See delay_group example . unnest data.table order sweep across scenarios, data manipulation steps required: Lastly setting parameter grid add column called scenario numbered 1 total number scenarios; add incubation period parameter grid.","code":"# Put parameters that are grouped by disease into this data.table scenarios <- data.table(   expand.grid(    delay_group = list(data.table(      delay = c(\"SARS\", \"Wuhan\"),      onset_to_isolation = c(        \\(n) rweibull(n = n, shape = 1.651524, scale = 4.287786),        \\(n) rweibull(n = n, shape = 2.305172, scale = 9.483875)      )    )),    r0_community = c(1.1, 1.5),    r0_isolated = 0,    disp_community = 0.16,    disp_isolated = 1,    prop_presymptomatic = c(0.01, 0.15),    prop_asymptomatic = c(0, 0.1),    prop_ascertain = seq(0, 1, 0.25),    initial_cases = c(5, 10),    quarantine = FALSE,    cap_max_days = 365,    cap_cases = 5000  ) ) list_cols <- grep(\"_group\", colnames(scenarios), value = TRUE) non_list_cols <- setdiff(colnames(scenarios), list_cols) scenarios <- scenarios[, rbindlist(delay_group), by = c(non_list_cols)] scenarios[, scenario :=  1:.N] incub <- \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) scenarios[, incubation_period := rep(list(incub), .N)]"},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"parameter-sweep-across-scenarios","dir":"Articles","previous_headings":"","what":"Parameter sweep across scenarios","title":"Scenario parameter sweep","text":"run scenario_sim() across parameter set, split scenarios list. makes easy loop resulting list using R functions like lapply(). example run 3 replicates parameter set. simulation model stochastic running multiple replicates , can understand variance within scenarios. scientifically robust analysis, number replicates much higher (e.g. 100-1000). output parameter sweep list data.tables, give idea output looks like show first 3 scenarios (160 total). See ?scenario_sim information contents data.tables.","code":"scenario_sims <- scenarios[, list(data = list(.SD)), by = scenario] n <- 3 res <- lapply(scenario_sims$data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n ) head(res, 3) #> [[1]] #>        sim  week weekly_cases cumulative effective_r0         cases_per_gen #>      <int> <num>        <num>      <num>        <num>                <list> #>   1:     1     0            6          6     0.200000                   2,0 #>   2:     1     1            1          7     0.200000                   2,0 #>   3:     1     2            0          7     0.200000                   2,0 #>   4:     1     3            0          7     0.200000                   2,0 #>   5:     1     4            0          7     0.200000                   2,0 #>  ---                                                                        #> 155:     3    48            0         91     1.032414  8,20,20,19, 5, 4,... #> 156:     3    49            0         91     1.032414  8,20,20,19, 5, 4,... #> 157:     3    50            0         91     1.032414  8,20,20,19, 5, 4,... #> 158:     3    51            0         91     1.032414  8,20,20,19, 5, 4,... #> 159:     3    52            0         91     1.032414  8,20,20,19, 5, 4,... #>  #> [[2]] #>        sim  week weekly_cases cumulative effective_r0         cases_per_gen #>      <int> <num>        <num>      <num>        <num>                <list> #>   1:     1     0           10         10     1.290414  8,19, 2, 9, 3, 5,... #>   2:     1     1           14         24     1.290414  8,19, 2, 9, 3, 5,... #>   3:     1     2           12         36     1.290414  8,19, 2, 9, 3, 5,... #>   4:     1     3            9         45     1.290414  8,19, 2, 9, 3, 5,... #>   5:     1     4           14         59     1.290414  8,19, 2, 9, 3, 5,... #>  ---                                                                        #> 155:     3    48            0          5     0.000000                     0 #> 156:     3    49            0          5     0.000000                     0 #> 157:     3    50            0          5     0.000000                     0 #> 158:     3    51            0          5     0.000000                     0 #> 159:     3    52            0          5     0.000000                     0 #>  #> [[3]] #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     0.000000 #>   2:     1     1            0          5     0.000000 #>   3:     1     2            0          5     0.000000 #>   4:     1     3            0          5     0.000000 #>   5:     1     4            0          5     0.000000 #>  ---                                                  #> 155:     3    48            0       6373     1.836735 #> 156:     3    49            0       6373     1.836735 #> 157:     3    50            0       6373     1.836735 #> 158:     3    51            0       6373     1.836735 #> 159:     3    52            0       6373     1.836735 #>                    cases_per_gen #>                           <list> #>   1:                           0 #>   2:                           0 #>   3:                           0 #>   4:                           0 #>   5:                           0 #>  ---                             #> 155:  13, 55, 96,181,211,339,... #> 156:  13, 55, 96,181,211,339,... #> 157:  13, 55, 96,181,211,339,... #> 158:  13, 55, 96,181,211,339,... #> 159:  13, 55, 96,181,211,339,..."},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"storing-simulations-with-scenarios","dir":"Articles","previous_headings":"","what":"Storing simulations with scenarios","title":"Scenario parameter sweep","text":"previous example constructed parameter grid ran parameter sweep storing simulated outbreaks separate object. can useful keep simulated output together parameter grid able check parameters correspond simulated outbreak. example run scenario parameter sweep (3 replicates), store simulated outbreak data.tables object list scenarios. append simulation results scenario_sims data.table assign sims column.","code":"scenario_sims[, sims := lapply(data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n )] scenario_sims #>      scenario               data                sims #>         <int>             <list>              <list> #>   1:        1 <data.table[1x14]> <data.table[159x6]> #>   2:        2 <data.table[1x14]> <data.table[159x6]> #>   3:        3 <data.table[1x14]> <data.table[159x6]> #>   4:        4 <data.table[1x14]> <data.table[159x6]> #>   5:        5 <data.table[1x14]> <data.table[159x6]> #>  ---                                                 #> 156:      156 <data.table[1x14]> <data.table[159x6]> #> 157:      157 <data.table[1x14]> <data.table[159x6]> #> 158:      158 <data.table[1x14]> <data.table[159x6]> #> 159:      159 <data.table[1x14]> <data.table[159x6]> #> 160:      160 <data.table[1x14]> <data.table[159x6]> head(scenario_sims$data, 3) #> [[1]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.1           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000   SARS      <function[1]>     <function[1]> #>  #> [[2]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.1           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000  Wuhan      <function[1]>     <function[1]> #>  #> [[3]] #>    r0_community r0_isolated disp_community disp_isolated prop_presymptomatic #>           <num>       <num>          <num>         <num>               <num> #> 1:          1.5           0           0.16             1                0.01 #>    prop_asymptomatic prop_ascertain initial_cases quarantine cap_max_days #>                <num>          <num>         <num>     <lgcl>        <num> #> 1:                 0              0             5      FALSE          365 #>    cap_cases  delay onset_to_isolation incubation_period #>        <num> <char>             <list>            <list> #> 1:      5000   SARS      <function[1]>     <function[1]> head(scenario_sims$sims, 3) #> [[1]] #>        sim  week weekly_cases cumulative effective_r0         cases_per_gen #>      <int> <num>        <num>      <num>        <num>                <list> #>   1:     1     0            7          7     0.300000                   3,0 #>   2:     1     1            1          8     0.300000                   3,0 #>   3:     1     2            0          8     0.300000                   3,0 #>   4:     1     3            0          8     0.300000                   3,0 #>   5:     1     4            0          8     0.300000                   3,0 #>  ---                                                                        #> 155:     3    48            0        218     1.064619  8,10,14,14,44,32,... #> 156:     3    49            0        218     1.064619  8,10,14,14,44,32,... #> 157:     3    50            0        218     1.064619  8,10,14,14,44,32,... #> 158:     3    51            0        218     1.064619  8,10,14,14,44,32,... #> 159:     3    52            0        218     1.064619  8,10,14,14,44,32,... #>  #> [[2]] #>        sim  week weekly_cases cumulative effective_r0 cases_per_gen #>      <int> <num>        <num>      <num>        <num>        <list> #>   1:     1     0            7          7          1.2         12, 0 #>   2:     1     1            9         16          1.2         12, 0 #>   3:     1     2            1         17          1.2         12, 0 #>   4:     1     3            0         17          1.2         12, 0 #>   5:     1     4            0         17          1.2         12, 0 #>  ---                                                                #> 155:     3    48            0         13          0.8           8,0 #> 156:     3    49            0         13          0.8           8,0 #> 157:     3    50            0         13          0.8           8,0 #> 158:     3    51            0         13          0.8           8,0 #> 159:     3    52            0         13          0.8           8,0 #>  #> [[3]] #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     0.100000 #>   2:     1     1            1          6     0.100000 #>   3:     1     2            0          6     0.100000 #>   4:     1     3            0          6     0.100000 #>   5:     1     4            0          6     0.100000 #>  ---                                                  #> 155:     3    48            0       5083     1.629195 #> 156:     3    49            0       5083     1.629195 #> 157:     3    50            0       5083     1.629195 #> 158:     3    51            0       5083     1.629195 #> 159:     3    52            0       5083     1.629195 #>                    cases_per_gen #>                           <list> #>   1:                         1,0 #>   2:                         1,0 #>   3:                         1,0 #>   4:                         1,0 #>   5:                         1,0 #>  ---                             #> 155:  36, 33, 43, 43,102,115,... #> 156:  36, 33, 43, 43,102,115,... #> 157:  36, 33, 43, 43,102,115,... #> 158:  36, 33, 43, 43,102,115,... #> 159:  36, 33, 43, 43,102,115,..."},{"path":"https://epiforecasts.io/ringbp/articles/parameter-sweep.html","id":"running-scenarios-in-parallel","dir":"Articles","previous_headings":"","what":"Running scenarios in parallel","title":"Scenario parameter sweep","text":"Finally, demonstrate example can easily run parallel using {future} framework. load {future} {future.apply} R packages . can replace lapply() future.apply::future_lapply() function choose run analysis parallel. See ?future::plan details. show run analysis 2 separate R sessions running background. Now re-run parameter sweep parallelisation. Note, set future.seed = TRUE ensure parallel-safe random numbers produced.","code":"library(future) library(future.apply) future::plan(\"multisession\", workers = 2) scenario_sims[, sims := future_lapply(data, \\(x, n) {   scenario_sim(     n = n,     initial_cases = x$initial_cases,     offspring = offspring_opts(       community = \\(n) rnbinom(n = n, mu = x$r0_community, size = x$disp_community),       isolated = \\(n) rnbinom(n = n, mu = x$r0_isolated, size = x$disp_isolated)     ),     delays = delay_opts(       incubation_period = x$incubation_period[[1]],       onset_to_isolation = x$onset_to_isolation[[1]]     ),     event_probs = event_prob_opts(       asymptomatic = x$prop_asymptomatic,       presymptomatic_transmission = x$prop_presymptomatic,       symptomatic_ascertained = x$prop_ascertain     ),     interventions = intervention_opts(quarantine = x$quarantine),     sim = sim_opts(cap_max_days = x$cap_max_days, cap_cases = x$cap_cases)   )   },   n = n,   future.seed = TRUE )] scenario_sims"},{"path":"https://epiforecasts.io/ringbp/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Joel Hellewell. Author, maintainer. Sam Abbott. Author. Amy Gimma. Author. Tim Lucas. Author. Sebastian Funk. Author. Adam Kucharski. Author. Hugo Gruson. Contributor. Carl . B. Pearson. Contributor, reviewer. Joshua W. Lambert. Author.","code":""},{"path":"https://epiforecasts.io/ringbp/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hellewell J, Abbott S, Gimma , Lucas T, Funk S, Kucharski , Lambert J (2025). ringbp: Simulate evaluate contact tracing scenarios. R package version 0.1.2.9999, https://epiforecasts.io/ringbp.","code":"@Manual{,   title = {ringbp: Simulate and evaluate contact tracing scenarios},   author = {Joel Hellewell and Sam Abbott and Amy Gimma and Tim Lucas and Sebastian Funk and Adam Kucharski and Joshua W. Lambert},   year = {2025},   note = {R package version 0.1.2.9999},   url = {https://epiforecasts.io/ringbp}, }"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"ringbp-simulate-infectious-disease-transmission-with-contact-tracing","dir":"","previous_headings":"","what":"Simulate and evaluate contact tracing scenarios","title":"Simulate and evaluate contact tracing scenarios","text":"ringbp R package provides methods simulate infectious disease transmission presence contact tracing. initially developed support paper written early 2020 assess feasibility controlling COVID-19; see companion analysis code paper details. ringbp R package provides methods simulate infectious disease transmission presence contact tracing. initially developed support paper written early 2020 assess feasibility controlling COVID-19. details methods implemented , see associated paper.","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Simulate and evaluate contact tracing scenarios","text":"current development version ringbp can installed GitHub using pak package.","code":"if(!require(\"pak\")) install.packages(\"pak\") pak::pak(\"epiforecasts/ringbp\")"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick start","title":"Simulate and evaluate contact tracing scenarios","text":"main functionality package scenario_sim() function. example running 10 simulations given scenario:","code":"library(\"ringbp\") library(\"ggplot2\")  res <- scenario_sim(   n = 10, ## 10 simulations   initial_cases = 1, ## one initial case in each of the simulations    offspring = offspring_opts(     ## non-isolated individuals have R0 of 2.5 and a dispersion parameter     community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),      ## isolated individuals have R0 of 0.5 and a dispersion  parameter     isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1)     ## by default asymptomatic individuals are assumed to have the same R0      ## and dispersion as non-isolated individuals   ),    delays = delay_opts(     incubation_period = \\(x) stats::rweibull(n = x, shape = 2.322737, scale = 6.492272),      onset_to_isolation = \\(x) stats::rweibull(n = x, shape = 1.651524, scale = 4.287786)   ),   event_probs = event_prob_opts(     ## 10% asymptomatic infections     asymptomatic = 0.1,      ## 50% probability of onward infection time being before symptom onset     presymptomatic_transmission = 0.5,     ## 20% probability of ascertainment by contact tracing     symptomatic_ascertained = 0.2   ),   ## whether quarantine is in effect   interventions = intervention_opts(quarantine = FALSE),   sim = sim_opts(     ## don't simulate beyond 350 days     cap_max_days = 350,      ## don't simulate beyond 4500 infections     cap_cases = 4500   ) )"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"plot-of-weekly-cases","dir":"","previous_headings":"Quick start","what":"Plot of weekly cases","title":"Simulate and evaluate contact tracing scenarios","text":"","code":"ggplot(   data = res, aes(x = week, y = cumulative, col = as.factor(sim)) ) +   geom_line(show.legend = FALSE, alpha = 0.3) +   scale_y_continuous(name = \"Cumulative number of cases\") +   theme_bw()"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"estimate-extinction-probability","dir":"","previous_headings":"Quick start","what":"Estimate extinction probability","title":"Simulate and evaluate contact tracing scenarios","text":"","code":"extinct_prob(res, cap_cases = 4500) #> [1] 0.7"},{"path":"https://epiforecasts.io/ringbp/index.html","id":"contributors","dir":"","previous_headings":"","what":"Contributors","title":"Simulate and evaluate contact tracing scenarios","text":"contributions project gratefully acknowledged using allcontributors package following -contributors specification. Contributions kind welcome!","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"code","dir":"","previous_headings":"Contributors","what":"Code","title":"Simulate and evaluate contact tracing scenarios","text":"seabbs, sbfnk, jhellewell14, timcdlucas, amygimma, joshwlambert, Bisaloo, actions-user","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"issue-authors","dir":"","previous_headings":"Contributors","what":"Issue Authors","title":"Simulate and evaluate contact tracing scenarios","text":"pearsonca, sophiemeakin","code":""},{"path":"https://epiforecasts.io/ringbp/index.html","id":"issue-contributors","dir":"","previous_headings":"Contributors","what":"Issue Contributors","title":"Simulate and evaluate contact tracing scenarios","text":"thimotei, adamkucharski, dcadam, jamesmbaazam","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"Check distribution function returns valid output correct number arguments","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"","code":"check_dist_func(func, dist_name, n_req_args = 1, func_eval_min = 0)"},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"func function. dist_name character string: name distribution function passed (e.g. \"incubation_period\") n_req_args single numeric: number required arguments func_eval_min single numeric: lower bound valid numeric output func argument (.e. minimum acceptable value function's codomain). default 0 func must return non-negative values.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/check_dist_func.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a distribution function returns valid output and has the correct number of arguments — check_dist_func","text":"TRUE checks pass error thrown distribution function invalid.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of delay distributions to run the ringbp model — delay_opts","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"Create list delay distributions run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"","code":"delay_opts(incubation_period, onset_to_isolation)"},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"incubation_period function: random number generating function samples incubation period distribution, function accepts single integer argument specifying number times sample incubation period (.e. length function output). onset_to_isolation function: random number generating function accepts single integer argument specifying length function output.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"list class <ringbp_delay_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/delay_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of delay distributions to run the ringbp model — delay_opts","text":"","code":"delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) #> $incubation_period #> function (n)  #> rweibull(n = n, shape = 2.32, scale = 6.49) #> <environment: 0x56113f291ef0> #>  #> $onset_to_isolation #> function (n)  #> rweibull(n = n, shape = 1.65, scale = 4.28) #> <environment: 0x56113f291ef0> #>  #> attr(,\"class\") #> [1] \"ringbp_delay_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate whether outbreaks went extinct or not — detect_extinct","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"Calculate whether outbreaks went extinct ","code":""},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"","code":"detect_extinct(outbreak_df_week, cap_cases, week_range = 12:16)"},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"outbreak_df_week data.table: weekly cases produced outbreak model cap_cases positive integer scalar: number cumulative cases branching process (simulation) terminated week_range positive integer vector: giving (zero indexed) week range test whether extinction occurred. Default 12:16.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"data.table, two columns sim extinct, binary classification whether outbreak went extinct simulation replicate. 1 outbreak went extinct, 0 .","code":""},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"cap_cases argument equal value supplied outbreak_model() (possibly passed scenario_sim()).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/detect_extinct.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate whether outbreaks went extinct or not — detect_extinct","text":"","code":"res <- scenario_sim(   n = 10,   initial_cases = 1,   offspring = offspring_opts(     community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),     isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1)   ),   delays = delay_opts(     incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),     onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28)   ),   event_probs = event_prob_opts(     asymptomatic = 0,     presymptomatic_transmission = 0.5,     symptomatic_ascertained = 0.2   ),   interventions = intervention_opts(quarantine = FALSE),   sim = sim_opts(cap_max_days = 350, cap_cases = 4500) ) detect_extinct(outbreak_df_week = res, cap_cases = 4500) #>       sim extinct #>     <int>   <num> #>  1:     1       1 #>  2:     2       1 #>  3:     3       1 #>  4:     4       1 #>  5:     5       1 #>  6:     6       0 #>  7:     7       1 #>  8:     8       1 #>  9:     9       1 #> 10:    10       1"},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of event probabilities to run the ringbp model — event_prob_opts","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"Create list event probabilities run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"","code":"event_prob_opts(   asymptomatic,   presymptomatic_transmission,   symptomatic_ascertained )"},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"asymptomatic numeric scalar probability (0 1 inclusive): proportion cases completely asymptomatic (subclinical) presymptomatic_transmission numeric scalar probability (0 1 inclusive): proportion transmission occurs symptom onset. symptomatic_ascertained numeric scalar probability (0 1 inclusive): proportion infectious contacts ascertained contact tracing","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"list class <ringbp_event_prob_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/event_prob_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of event probabilities to run the ringbp model — event_prob_opts","text":"","code":"event_prob_opts(   asymptomatic = 0.1,   presymptomatic_transmission = 0.5,   symptomatic_ascertained = 0.2 ) #> $asymptomatic #> [1] 0.1 #>  #> $alpha #> [1] 1.968077e-08 #>  #> $symptomatic_ascertained #> [1] 0.2 #>  #> attr(,\"class\") #> [1] \"ringbp_event_prob_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate proportion of runs that have controlled outbreak — extinct_prob","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"Calculate proportion runs controlled outbreak","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"","code":"extinct_prob(outbreak_df_week, cap_cases, week_range = 12:16)"},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"outbreak_df_week data.table: weekly cases produced outbreak model cap_cases positive integer scalar: number cumulative cases branching process (simulation) terminated week_range positive integer vector: giving (zero indexed) week range test whether extinction occurred. Default 12:16.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"single numeric probability extinction","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"cap_cases argument equal value supplied outbreak_model() (possibly passed scenario_sim()).","code":""},{"path":"https://epiforecasts.io/ringbp/reference/extinct_prob.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate proportion of runs that have controlled outbreak — extinct_prob","text":"","code":"res <- scenario_sim(   n = 10,   initial_cases = 1,   offspring = offspring_opts(     community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),     isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1)   ),   delays = delay_opts(     incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),     onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28)   ),   event_probs = event_prob_opts(     asymptomatic = 0,     presymptomatic_transmission = 0.5,     symptomatic_ascertained = 0.2   ),   interventions = intervention_opts(quarantine = FALSE),   sim = sim_opts(cap_max_days = 350, cap_cases = 4500) ) extinct_prob(res, cap_cases = 4500) #> [1] 0.6"},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Samples the generation time for given incubation period samples — incubation_to_generation_time","title":"Samples the generation time for given incubation period samples — incubation_to_generation_time","text":"done assuming generation time distribution individual given skew-normal distribution location parameter equal incubation period.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Samples the generation time for given incubation period samples — incubation_to_generation_time","text":"","code":"incubation_to_generation_time(incubation_period_samples, alpha)"},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Samples the generation time for given incubation period samples — incubation_to_generation_time","text":"incubation_period_samples positive numeric vector: samples incubation period distribution alpha numeric scalar: skew parameter skew-normal distribution","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Samples the generation time for given incubation period samples — incubation_to_generation_time","text":"numeric vector equal length vector input incubation_period_samples","code":""},{"path":"https://epiforecasts.io/ringbp/reference/incubation_to_generation_time.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Samples the generation time for given incubation period samples — incubation_to_generation_time","text":"","code":"incubation_to_generation_time(   incubation_period_samples = c(1, 2, 3, 4, 1),   alpha = 2 ) #> [1] 3.580762 3.688164 4.930596 6.407438 3.870629"},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of intervention settings to run the ringbp model — intervention_opts","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"Create list intervention settings run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"","code":"intervention_opts(quarantine = FALSE)"},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"quarantine logical scalar: whether quarantine effect, TRUE traced contacts isolated symptom onset; defaults FALSE","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"list class <ringbp_intervention_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/intervention_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of intervention settings to run the ringbp model — intervention_opts","text":"","code":"intervention_opts(quarantine = FALSE) #> $quarantine #> [1] FALSE #>  #> attr(,\"class\") #> [1] \"ringbp_intervention_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of offspring distributions to run the ringbp model — offspring_opts","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"Create list offspring distributions run ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"","code":"offspring_opts(community, isolated, asymptomatic = community)"},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"community function: random number generating function samples community (non-isolated) offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output) isolated function: random number generating function samples isolated cases offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output) asymptomatic function: random number generating function samples sub-clinical non-isolated cases offspring distribution, function accepts single integer argument specifying number times sample offspring distribution (.e. length function output). specified community offspring distribution left unspecified","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"list class <ringbp_offspring_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"asymptomatic provided specified community meaning transmission subclinical cases equal clinical cases unless specified otherwise.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/offspring_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of offspring distributions to run the ringbp model — offspring_opts","text":"","code":"# Negative binomial offspring distributions with: # Community R0 of 2.5 and dispersion of 0.16 # Isolated R0 of 0.5 and dispersion of 1 # Asymptomatic R0 of 2.5 and dispersion of 0.16 offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) #> $community #> function (n)  #> rnbinom(n = n, mu = 2.5, size = 0.16) #> <environment: 0x56114514cbc0> #>  #> $isolated #> function (n)  #> rnbinom(n = n, mu = 0.5, size = 1) #> <environment: 0x56114514cbc0> #>  #> $asymptomatic #> function (n)  #> rnbinom(n = n, mu = 2.5, size = 0.16) #> <environment: 0x56114514cbc0> #>  #> attr(,\"class\") #> [1] \"ringbp_offspring_opts\""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a single instance of the branching process model — outbreak_model","title":"Run a single instance of the branching process model — outbreak_model","text":"Run single instance branching process model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a single instance of the branching process model — outbreak_model","text":"","code":"outbreak_model(   initial_cases,   offspring,   delays,   event_probs,   interventions,   sim )"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a single instance of the branching process model — outbreak_model","text":"initial_cases non-negative integer scalar: number initial starting cases assumed missed. offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine sim list class <ringbp_sim_opts>: simulation control options ringbp model, returned sim_opts()","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a single instance of the branching process model — outbreak_model","text":"data.table cases week, cumulative cases, effective reproduction number outbreak. data.table columns : $week: numeric $weekly_cases: numeric $cumulative: numeric $effective_r0: numeric $cases_per_gen: list","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_model.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a single instance of the branching process model — outbreak_model","text":"","code":"set.seed(1) offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0.5, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.5,   symptomatic_ascertained = 0.2 ) interventions <- intervention_opts(quarantine = FALSE) out <- outbreak_model(   initial_cases = 1,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions,   sim = sim_opts() ) out #>      week weekly_cases cumulative effective_r0 cases_per_gen #>     <num>        <num>      <num>        <num>        <list> #>  1:     0            1          1            0             0 #>  2:     1            0          1            0             0 #>  3:     2            0          1            0             0 #>  4:     3            0          1            0             0 #>  5:     4            0          1            0             0 #>  6:     5            0          1            0             0 #>  7:     6            0          1            0             0 #>  8:     7            0          1            0             0 #>  9:     8            0          1            0             0 #> 10:     9            0          1            0             0 #> 11:    10            0          1            0             0 #> 12:    11            0          1            0             0 #> 13:    12            0          1            0             0 #> 14:    13            0          1            0             0 #> 15:    14            0          1            0             0 #> 16:    15            0          1            0             0 #> 17:    16            0          1            0             0 #> 18:    17            0          1            0             0 #> 19:    18            0          1            0             0 #> 20:    19            0          1            0             0 #> 21:    20            0          1            0             0 #> 22:    21            0          1            0             0 #> 23:    22            0          1            0             0 #> 24:    23            0          1            0             0 #> 25:    24            0          1            0             0 #> 26:    25            0          1            0             0 #> 27:    26            0          1            0             0 #> 28:    27            0          1            0             0 #> 29:    28            0          1            0             0 #> 30:    29            0          1            0             0 #> 31:    30            0          1            0             0 #> 32:    31            0          1            0             0 #> 33:    32            0          1            0             0 #> 34:    33            0          1            0             0 #> 35:    34            0          1            0             0 #> 36:    35            0          1            0             0 #> 37:    36            0          1            0             0 #> 38:    37            0          1            0             0 #> 39:    38            0          1            0             0 #> 40:    39            0          1            0             0 #> 41:    40            0          1            0             0 #> 42:    41            0          1            0             0 #> 43:    42            0          1            0             0 #> 44:    43            0          1            0             0 #> 45:    44            0          1            0             0 #> 46:    45            0          1            0             0 #> 47:    46            0          1            0             0 #> 48:    47            0          1            0             0 #> 49:    48            0          1            0             0 #> 50:    49            0          1            0             0 #> 51:    50            0          1            0             0 #>      week weekly_cases cumulative effective_r0 cases_per_gen"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Set up initial cases for branching process — outbreak_setup","title":"Set up initial cases for branching process — outbreak_setup","text":"Set initial cases branching process","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set up initial cases for branching process — outbreak_setup","text":"","code":"outbreak_setup(initial_cases, delays, event_probs)"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set up initial cases for branching process — outbreak_setup","text":"initial_cases non-negative integer scalar: number initial starting cases assumed missed. delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set up initial cases for branching process — outbreak_setup","text":"data.table cases outbreak far. data.table columns : $exposure: numeric $asymptomatic: logical $caseid: integer $infector: numeric $missed: logical $onset: numeric $new_cases: logical $isolated_time: numeric $isolated: logical","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_setup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set up initial cases for branching process — outbreak_setup","text":"","code":"delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.15,   symptomatic_ascertained = 0 )  # generate initial cases case_data <- outbreak_setup(   initial_cases = 5,   delays = delays,   event_probs = event_probs ) case_data #> Index: <asymptomatic> #>    exposure asymptomatic caseid infector isolated missed     onset new_cases #>       <num>       <lgcl>  <int>    <num>   <lgcl> <lgcl>     <num>    <lgcl> #> 1:        0        FALSE      1        0    FALSE   TRUE  5.327302        NA #> 2:        0        FALSE      2        0    FALSE   TRUE 10.248073        NA #> 3:        0        FALSE      3        0    FALSE   TRUE  9.878893        NA #> 4:        0        FALSE      4        0    FALSE   TRUE  1.781222        NA #> 5:        0        FALSE      5        0    FALSE   TRUE  5.395534        NA #>    isolated_time #>            <num> #> 1:      7.479154 #> 2:     11.923502 #> 3:     15.219283 #> 4:      4.397555 #> 5:     18.466834"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":null,"dir":"Reference","previous_headings":"","what":"Move forward one generation in the branching process — outbreak_step","title":"Move forward one generation in the branching process — outbreak_step","text":"Move forward one generation branching process","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Move forward one generation in the branching process — outbreak_step","text":"","code":"outbreak_step(case_data, offspring, delays, event_probs, interventions)"},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Move forward one generation in the branching process — outbreak_step","text":"case_data data.table: cases outbreak far; initially generated outbreak_setup() offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Move forward one generation in the branching process — outbreak_step","text":"list three elements: $cases: data.table case data $effective_r0: numeric effective reproduction number $cases_in_gen: numeric number new cases generation","code":""},{"path":"https://epiforecasts.io/ringbp/reference/outbreak_step.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Move forward one generation in the branching process — outbreak_step","text":"","code":"offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 1.25, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 1.65, scale = 4.28) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.15,   symptomatic_ascertained = 0 ) interventions <- intervention_opts(quarantine = FALSE)  # generate initial cases case_data <- outbreak_setup(   initial_cases = 5,   delays = delays,   event_probs = event_probs ) case_data #> Index: <asymptomatic> #>    exposure asymptomatic caseid infector isolated missed     onset new_cases #>       <num>       <lgcl>  <int>    <num>   <lgcl> <lgcl>     <num>    <lgcl> #> 1:        0        FALSE      1        0    FALSE   TRUE  5.388645        NA #> 2:        0        FALSE      2        0    FALSE   TRUE  3.260320        NA #> 3:        0        FALSE      3        0    FALSE   TRUE 12.919082        NA #> 4:        0        FALSE      4        0    FALSE   TRUE  6.080151        NA #> 5:        0        FALSE      5        0    FALSE   TRUE  3.669456        NA #>    isolated_time #>            <num> #> 1:      8.854622 #> 2:     11.988717 #> 3:     21.825460 #> 4:      6.251773 #> 5:      5.438428 # generate next generation of cases out <- outbreak_step(   case_data = case_data,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions ) case_data <- out[[1]] case_data #>     exposure asymptomatic caseid infector isolated missed     onset new_cases #>        <num>       <lgcl>  <int>    <num>   <lgcl> <lgcl>     <num>     <num> #> 1:  0.000000        FALSE      1        0     TRUE   TRUE  5.388645         0 #> 2:  0.000000        FALSE      2        0     TRUE   TRUE  3.260320         0 #> 3:  0.000000        FALSE      3        0     TRUE   TRUE 12.919082         1 #> 4:  0.000000        FALSE      4        0     TRUE   TRUE  6.080151         0 #> 5:  0.000000        FALSE      5        0     TRUE   TRUE  3.669456         1 #> 6: 12.554511        FALSE      6        3    FALSE   TRUE 18.124106        NA #> 7:  4.489831        FALSE      7        5    FALSE   TRUE  7.724711        NA #>    isolated_time #>            <num> #> 1:      8.854622 #> 2:     11.988717 #> 3:     21.825460 #> 4:      6.251773 #> 5:      5.438428 #> 6:     23.208225 #> 7:      8.588712"},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":null,"dir":"Reference","previous_headings":"","what":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"Estimate skew normal alpha parameter proportion presymptomatic transmission","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"","code":"presymptomatic_transmission_to_alpha(presymptomatic_transmission)"},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"presymptomatic_transmission numeric scalar probability (0 1 inclusive): proportion transmission occurs symptom onset.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"numeric scalar: $minimum output optimise() find best alpha parameter get desired proportion presymptomatic transmission.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/presymptomatic_transmission_to_alpha.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Estimate skew normal alpha parameter from proportion of presymptomatic transmission — presymptomatic_transmission_to_alpha","text":"Since analytical expression linking two, value alpha corresponds given proportion presymptomatic obtained via numeric optimisation.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/ringbp-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","title":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","text":"package simulate transmission infectious disease associated efforts trace conacts reduce onwards transmission.","code":""},{"path":[]},{"path":"https://epiforecasts.io/ringbp/reference/ringbp-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ringbp: Simulate and evaluate contact tracing scenarios — ringbp-package","text":"Maintainer: Joel Hellewell Joel.Hellewell@lshtm.ac.uk (ORCID) Authors: Sam Abbott contact@samabbott.co.uk (ORCID) Amy Gimma amy.gimma@lshtm.ac.uk Tim Lucas tim.lucas@leicester.ac.uk Sebastian Funk sebastian.funk@lshtm.ac.uk Adam Kucharski adam.kucharski@lshtm.ac.uk Joshua W. Lambert joshua.lambert@lshtm.ac.uk (ORCID) contributors: Hugo Gruson hugo.gruson@data.org (ORCID) [contributor] Carl . B. Pearson carl.ab.pearson@gmail.com (ORCID) [contributor, reviewer]","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a specified number of simulations with identical parameters — scenario_sim","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"Run specified number simulations identical parameters","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"","code":"scenario_sim(   n,   initial_cases,   offspring,   delays,   event_probs,   interventions,   sim )"},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"n positive integer scalar: number simulations run initial_cases non-negative integer scalar: number initial starting cases assumed missed. offspring list class <ringbp_offspring_opts>: offspring distribution functions ringbp model, returned offspring_opts(). Contains three elements: community, isolated, asymptomatic delays list class <ringbp_delay_opts>: delay distribution functions ringbp model, returned delay_opts(). Contains two elements: incubation_period onset_to_isolation event_probs list class <ringbp_event_prob_opts>: event probabilities ringbp model, returned event_prob_opts(). Contains three elements: asymptomatic, presymptomatic_transmission symptomatic_ascertained interventions list class <ringbp_intervention_opts>: intervention settings ringbp model, returned intervention_opts(). Contains one element: quarantine sim list class <ringbp_sim_opts>: simulation control options ringbp model, returned sim_opts()","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"data.table object returning results multiple simulations using set parameters. table columns week: week simulation. weekly_cases: number new cases week. cumulative: cumulative cases. effective_r0: effective reproduction rate whole simulation cases_per_gen: list column cases per generation. repeated row. sim: Index column simulation.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/scenario_sim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a specified number of simulations with identical parameters — scenario_sim","text":"","code":"offspring <- offspring_opts(   community = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16),   isolated = \\(n) rnbinom(n = n, mu = 0, size = 1),   asymptomatic = \\(n) rnbinom(n = n, mu = 2.5, size = 0.16) ) delays <- delay_opts(   incubation_period = \\(n) rweibull(n = n, shape = 2.32, scale = 6.49),   onset_to_isolation = \\(n) rweibull(n = n, shape = 2.5, scale = 5) ) event_probs <- event_prob_opts(   asymptomatic = 0,   presymptomatic_transmission = 0.3,   symptomatic_ascertained = 0 ) interventions <- intervention_opts(quarantine = TRUE) sim <- sim_opts(   cap_max_days = 365,   cap_cases = 2000 ) res <- scenario_sim(   n = 5,   initial_cases = 5,   offspring = offspring,   delays = delays,   event_probs = event_probs,   interventions = interventions,   sim = sim ) res #>        sim  week weekly_cases cumulative effective_r0 #>      <int> <num>        <num>      <num>        <num> #>   1:     1     0            5          5     0.000000 #>   2:     1     1            0          5     0.000000 #>   3:     1     2            0          5     0.000000 #>   4:     1     3            0          5     0.000000 #>   5:     1     4            0          5     0.000000 #>  ---                                                  #> 261:     5    48            0       2171     2.900912 #> 262:     5    49            0       2171     2.900912 #> 263:     5    50            0       2171     2.900912 #> 264:     5    51            0       2171     2.900912 #> 265:     5    52            0       2171     2.900912 #>                    cases_per_gen #>                           <list> #>   1:                           0 #>   2:                           0 #>   3:                           0 #>   4:                           0 #>   5:                           0 #>  ---                             #> 261:   4, 46, 35, 69,154,215,... #> 262:   4, 46, 35, 69,154,215,... #> 263:   4, 46, 35, 69,154,215,... #> 264:   4, 46, 35, 69,154,215,... #> 265:   4, 46, 35, 69,154,215,..."},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a list of simulation control options for the ringbp model — sim_opts","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"Create list simulation control options ringbp model","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"","code":"sim_opts(cap_max_days = 350, cap_cases = 5000)"},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"cap_max_days positive integer scalar: stop simulation many days reached. cap_cases positive integer scalar: number cumulative cases branching process (simulation) terminated","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"list class <ringbp_sim_opts>.","code":""},{"path":"https://epiforecasts.io/ringbp/reference/sim_opts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a list of simulation control options for the ringbp model — sim_opts","text":"","code":"# default simulation control options sim_opts() #> $cap_max_days #> [1] 350 #>  #> $cap_cases #> [1] 5000 #>  #> attr(,\"class\") #> [1] \"ringbp_sim_opts\"  # specifying custom simulation control options sim_opts(   cap_max_days = 140,   cap_cases = 1000 ) #> $cap_max_days #> [1] 140 #>  #> $cap_cases #> [1] 1000 #>  #> attr(,\"class\") #> [1] \"ringbp_sim_opts\""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-0129999","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.2.9999","title":"ringbp 0.1.2.9999","text":"outbreak simulation functions (scenario_sim(), outbreak_model(), outbreak_setup() outbreak_step()) refactored provide modular functional interface. New delay_opts(), event_prob_opts(), intervention_opts(), offspring_opts(), sim_opts() helper functions added. check_dist_func() added check_outbreak_input() removed. parameter_sweep() function removed converted vignette ({purrr} removed package dependency). prop_presymptomatic_to_alpha() renamed presymptomatic_transmission_to_alpha(). Addresses #65, #91 @joshwlambert #127 reviewed @pearsonca @sbfnk. inf_fn() function renamed incubation_to_generation_time() k function argument (scenario_sim(), outbreak_model(), outbreak_step()) renamed prop_presymptomatic (scenario_sim() outbreak_model()) alpha (outbreak_step()). internal prop_presymptomatic_to_alpha() function added conversion prop_presymptomatic alpha. Addresses #119, #120 @joshwlambert #123 reviewed @pearsonca @sbfnk. Added input checking, including new check_outbreak_input() function, removed unused argument defaults, consistently ordered arguments functions, moved function argument documentation functions use argument. Addresses #89, #91, #93, #116 @joshwlambert #117 reviewed @pearsonca @sbfnk. Function argument variable names consistently named styled (snake case). Arguments abbreviated (e.g. iso) now use full word, arguments aliases (e.g. prop_ascertain control_effectiveness) now use single name. @joshwlambert #112 reviewed @pearsonca @sbfnk. Fixed bug implementation quarantine, isolation happen later onset + delay, earlier isolation time infector. @sbfnk #107 reviewed @pearsonca @joshwlambert. Changed internal sampling vector draws several locations; cases, optimization, others bug fix correcting use single draw many. Also incorporates vectorization changes improve performance. bug fix, users expect results change. Addresses issues #90, #92, #94, #98 @pearsonca (now added contributor) review @sbfnk @joshwlambert. minimum R version required {ringbp} package now >= 4.4.0. due dependency {Matrix}. GitHub actions workflow R CMD check added check package valid minimum required R version. Addressed #85 @joshwlambert review @sbfnk. Parameterisation delay distributions accepted model generalised scenario_sim() outbreak_model(). delay_shape delay_scale arguments replaced onset_to_isolation argument, incubation_period argument added. Addresses issues #59 #63 #84 @joshwlambert review @sbfnk @pearsonca. Function examples added updated, \\dontrun{} removed. Addresses issue #27 #83 @joshwlambert review @pearsonca. Use {roxyglobals} manage global variables. Addresses issue #66 #81 @joshwlambert review @sbfnk. Remove silent printing returned data.tables outbreak_model() scenario_sim() adding [] return(). Addresses issue #64 #80 @joshwlambert review @sbfnk. Function documentation updated, including function arguments, function outputs, inheriting arguments across functions fixing --date references. Addressed issue #58 #67 #78 @joshwlambert review @sbfnk @pearsonca issue #79 #82 @joshwlambert review @sbfnk.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-012","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.2","title":"ringbp 0.1.2","text":"Improved package infrastructure remove number dependencies, removing deprecated function calls reducing clutter repo. #70, #71, #72 #73 @sbfnk.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-011","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.1","title":"ringbp 0.1.1","text":"Added unit tests. @timcdlucas #43 reviewed @sbfnk. Added testing checking infrastructure using github actions.","code":""},{"path":"https://epiforecasts.io/ringbp/news/index.html","id":"ringbp-010","dir":"Changelog","previous_headings":"","what":"ringbp 0.1.0","title":"ringbp 0.1.0","text":"Initial release alongside paper Feasibility controlling 2019-nCoV outbreaks isolation cases contacts.","code":""}]

<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sweep across parameters — parameter_sweep • ringbp</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Sweep across parameters — parameter_sweep"><meta property="og:description" content="Explore scenarios using gridding with sampling for parameters not in the grid. Parameters that
are included in the grid are currently hard coded. Use the future package to control parallisation
outside of the function."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ringbp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.2.9999</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/epiforecasts/ringbp/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Sweep across parameters</h1>
    <small class="dont-index">Source: <a href="https://github.com/epiforecasts/ringbp/blob/main/R/parameter_sweep.R" class="external-link"><code>R/parameter_sweep.R</code></a></small>
    <div class="hidden name"><code>parameter_sweep.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Explore scenarios using gridding with sampling for parameters not in the grid. Parameters that
are included in the grid are currently hard coded. Use the <code>future</code> package to control parallisation
outside of the function.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">parameter_sweep</span><span class="op">(</span>scenarios <span class="op">=</span> <span class="cn">NULL</span>, samples <span class="op">=</span> <span class="fl">1</span>, sim_fn <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-scenarios">scenarios<a class="anchor" aria-label="anchor" href="#arg-scenarios"></a></dt>
<dd><p>a <code>data.frame</code>: containing all gridded scenarios - see the
examples for the required structure. Defaults to <code>NULL</code>.</p></dd>


<dt id="arg-samples">samples<a class="anchor" aria-label="anchor" href="#arg-samples"></a></dt>
<dd><p>a positive <code>integer</code> scalar: the number of samples to take.
Defaults to <code>1</code>.</p></dd>


<dt id="arg-sim-fn">sim_fn<a class="anchor" aria-label="anchor" href="#arg-sim-fn"></a></dt>
<dd><p>a <code>function</code>: defaults to <code>NULL</code>. The vectorised model
simulation function - see the examples for usage.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A nested <code>data.table</code> containing the parameters for each scenario and a nested list of output
from <code><a href="scenario_sim.html">scenario_sim()</a></code>.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-datatable.com" class="external-link">data.table</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Put parameters that are grouped by disease into this data.table</span></span></span>
<span class="r-in"><span><span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    delay_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      delay <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SARS"</span>, <span class="st">"Wuhan"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      onset_to_isolation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">rweibull</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, shape <span class="op">=</span> <span class="fl">1.651524</span>, scale <span class="op">=</span> <span class="fl">4.287786</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>        \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">rweibull</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, shape <span class="op">=</span> <span class="fl">2.305172</span>, scale <span class="op">=</span> <span class="fl">9.483875</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    k_group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/data.table.html" class="external-link">data.table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      theta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"&lt;1%"</span>, <span class="st">"15%"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0.88</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    index_R0 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1.1</span>, <span class="fl">1.5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    prop.asym <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    control_effectiveness <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">0.25</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    num.initial.cases <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    quarantine <span class="op">=</span> <span class="cn">FALSE</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">list_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"_group"</span>, <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">scenarios</span><span class="op">)</span>, value <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">non_list_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">scenarios</span><span class="op">)</span>, <span class="va">list_cols</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">expanded_groups</span> <span class="op">&lt;-</span> <span class="va">scenarios</span><span class="op">[</span>, <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="va">delay_group</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">non_list_cols</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">expanded_k</span> <span class="op">&lt;-</span> <span class="va">scenarios</span><span class="op">[</span>, <span class="fu"><a href="https://rdatatable.gitlab.io/data.table/reference/rbindlist.html" class="external-link">rbindlist</a></span><span class="op">(</span><span class="va">k_group</span><span class="op">)</span>, by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">non_list_cols</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">scenarios</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">expanded_groups</span>, <span class="va">expanded_k</span>, by <span class="op">=</span> <span class="va">non_list_cols</span>, allow.cartesian <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scenarios</span><span class="op">[</span>, <span class="va">scenario</span> <span class="op">:=</span>  <span class="fl">1</span><span class="op">:</span><span class="va">.N</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;index_R0, prop.asym, control_effectiveness, num.initial.cases, quarantine&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      index_R0 prop.asym control_effectiveness num.initial.cases quarantine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;     &lt;num&gt;                 &lt;num&gt;             &lt;num&gt;     &lt;lgcl&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:      1.1       0.0                     0                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156:      1.5       0.1                     1                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 157:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 158:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 159:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 160:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       delay onset_to_isolation  theta     k scenario</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;             &lt;list&gt; &lt;char&gt; &lt;num&gt;    &lt;int&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:   SARS      &lt;function[1]&gt;    &lt;1%  1.00        1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:   SARS      &lt;function[1]&gt;    15%  0.88        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:  Wuhan      &lt;function[1]&gt;    &lt;1%  1.00        3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:  Wuhan      &lt;function[1]&gt;    15%  0.88        4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:   SARS      &lt;function[1]&gt;    &lt;1%  1.00        5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156:  Wuhan      &lt;function[1]&gt;    15%  0.88      156</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 157:   SARS      &lt;function[1]&gt;    &lt;1%  1.00      157</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 158:   SARS      &lt;function[1]&gt;    15%  0.88      158</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 159:  Wuhan      &lt;function[1]&gt;    &lt;1%  1.00      159</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 160:  Wuhan      &lt;function[1]&gt;    15%  0.88      160</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">incub</span> <span class="op">&lt;-</span> \<span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/stats/Weibull.html" class="external-link">rweibull</a></span><span class="op">(</span>n <span class="op">=</span> <span class="va">x</span>, shape <span class="op">=</span> <span class="fl">1.65</span>, scale <span class="op">=</span> <span class="fl">4.28</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">scenarios</span><span class="op">[</span>, <span class="va">incubation_period</span> <span class="op">:=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">incub</span><span class="op">)</span>, <span class="va">.N</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Key: &lt;index_R0, prop.asym, control_effectiveness, num.initial.cases, quarantine&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      index_R0 prop.asym control_effectiveness num.initial.cases quarantine</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;     &lt;num&gt;                 &lt;num&gt;             &lt;num&gt;     &lt;lgcl&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:      1.1       0.0                     0                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:      1.1       0.0                     0                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156:      1.5       0.1                     1                 5      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 157:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 158:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 159:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 160:      1.5       0.1                     1                10      FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       delay onset_to_isolation  theta     k scenario incubation_period</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      &lt;char&gt;             &lt;list&gt; &lt;char&gt; &lt;num&gt;    &lt;int&gt;            &lt;list&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:   SARS      &lt;function[1]&gt;    &lt;1%  1.00        1     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:   SARS      &lt;function[1]&gt;    15%  0.88        2     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:  Wuhan      &lt;function[1]&gt;    &lt;1%  1.00        3     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:  Wuhan      &lt;function[1]&gt;    15%  0.88        4     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:   SARS      &lt;function[1]&gt;    &lt;1%  1.00        5     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156:  Wuhan      &lt;function[1]&gt;    15%  0.88      156     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 157:   SARS      &lt;function[1]&gt;    &lt;1%  1.00      157     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 158:   SARS      &lt;function[1]&gt;    15%  0.88      158     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 159:  Wuhan      &lt;function[1]&gt;    &lt;1%  1.00      159     &lt;function[1]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 160:  Wuhan      &lt;function[1]&gt;    15%  0.88      160     &lt;function[1]&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Parameterise fixed paramters</span></span></span>
<span class="r-in"><span><span class="va">sim_with_params</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/partial.html" class="external-link">partial</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu">ringbp</span><span class="fu">::</span><span class="va"><a href="scenario_sim.html">scenario_sim</a></span>,</span></span>
<span class="r-in"><span>  cap_max_days <span class="op">=</span> <span class="fl">365</span>,</span></span>
<span class="r-in"><span>  cap_cases <span class="op">=</span> <span class="fl">5000</span>,</span></span>
<span class="r-in"><span>  r0isolated <span class="op">=</span> <span class="fl">0</span>,</span></span>
<span class="r-in"><span>  disp.iso<span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>  disp.subclin <span class="op">=</span> <span class="fl">0.16</span>,</span></span>
<span class="r-in"><span>  disp.com <span class="op">=</span> <span class="fl">0.16</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## parameter_sweep uses the future_lapply() function</span></span></span>
<span class="r-in"><span><span class="co">## Default is to run sequntially on a single core</span></span></span>
<span class="r-in"><span><span class="co"># future::plan("sequential")</span></span></span>
<span class="r-in"><span><span class="co">## Set up multicore if using see ?future::plan for details</span></span></span>
<span class="r-in"><span><span class="co">## Use the workers argument to control the number of cores used.</span></span></span>
<span class="r-in"><span><span class="co"># future::plan("multiprocess")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Run parameter sweep</span></span></span>
<span class="r-in"><span><span class="va">sweep_results</span> <span class="op">&lt;-</span> <span class="fu">parameter_sweep</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">scenarios</span>,</span></span>
<span class="r-in"><span>  sim_fn <span class="op">=</span> <span class="va">sim_with_params</span>,</span></span>
<span class="r-in"><span>  samples <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">sweep_results</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      scenario               data               sims</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;int&gt;             &lt;list&gt;             &lt;list&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1:        1 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2:       50 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3:       88 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4:       66 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5:      145 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                               </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 156:       38 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 157:      157 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 158:       11 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 159:      110 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 160:      118 &lt;data.table[1x10]&gt; &lt;data.table[53x6]&gt;</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Joel Hellewell, Sam Abbott, Amy Gimma, Tim Lucas, Sebastian Funk, Adam Kucharski.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

      </footer></div>






  </body></html>

